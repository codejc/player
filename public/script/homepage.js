/**
 * Created by hongjincong on 2017/6/28.
 */
var firstSlideBarItems = [{
    'src': 'http://y.gtimg.cn/music/photo_new/T002R300x300M000001aCiDu2s9LF6.jpg?max_age=2592000',
    'title': '就这样',
    'author': '李荣浩'
}, {
    'src': 'https://y.gtimg.cn/music/photo_new/T002R300x300M000002214db2ALiIG.jpg?max_age=2592000',
    'title': 'l',
    'author': '鹿晗'
}, {
    'src': 'http://y.gtimg.cn/music/photo_new/T002R300x300M0000035QjwO1QoaqR.jpg?max_age=2592000',
    'title': '明日之子 第三期',
    'author': '明日之子'
}, {
    'src': 'http://y.gtimg.cn/music/photo_new/T002R300x300M000002OGIOJ0ah1OK.jpg?max_age=2592000',
    'title': '乐人·Live：郑钧“私奔”全国巡演北京站（Live)',
    'author': '郑钧'
}, {
    'src': "http://y.gtimg.cn/music/photo_new/T002R300x300M0000025Zkpr0cAIOD.jpg?max_age=2592000",
    'title': '飞舞',
    'author': '萌萌哒天团'
}, {
    'src': 'http://y.gtimg.cn/music/photo_new/T002R300x300M0000043n2VT0Uuru8.jpg?max_age=2592000',
    'title': '因为一个人',
    'author': '张磊'
}, {
    'src': 'https://y.gtimg.cn/music/photo_new/T002R300x300M000000DaCVK408ZiY.jpg?max_age=2592000"',
    'title': '小活法',
    'author': '苏晴'
}, {
    'src': 'https://y.gtimg.cn/music/photo_new/T002R300x300M000004H82ly4Ct1CP.jpg?max_age=2592000',
    'title': '江湖有情',
    'author': '尚雯婕'
}, {
    'src': 'https://y.gtimg.cn/music/photo_new/T002R300x300M000004Ee0JC3jsep7.jpg?max_age=2592000',
    'title': '19岁',
    'author': '李宏毅'
}, {
    'src': 'https://y.gtimg.cn/music/photo_new/T002R300x300M000001VbEcE3yQoqp.jpg?max_age=2592000',
    'title': '雷佳博士毕业音乐会',
    'author': '雷佳'
}, {
    'src': 'https://y.gtimg.cn/music/photo_new/T002R300x300M000000gGdr93IlJ9G.jpg?max_age=2592000',
    'title': '都有',
    'author': '谢帝'
}, {
    'src': 'https://y.gtimg.cn/music/photo_new/T002R300x300M000001nmtQ02IhylU.jpg?max_age=2592000',
    'title': 'Kissing Paradise',
    'author': '曲婉婷'
}, {
    'src': 'https://y.gtimg.cn/music/photo_new/T002R300x300M000001i4nsW3i6Ah0.jpg?max_age=2592000',
    'title': '南征北战',
    'author': '迈克尔·杰克逊'
}, {
    'src': 'https://y.gtimg.cn/music/photo_new/T002R300x300M000003ZUBMa21q8LN.jpg?max_age=2592000',
    'title': '岁月神偷',
    'author': '周笔畅'
}, {
    'src': 'https://y.gtimg.cn/music/photo_new/T002R300x300M000000VpSjb30nc5i.jpg?max_age=2592000',
    'title': 'The Greatest Messi',
    'author': '苏醒'
}, {
    'src': 'https://y.gtimg.cn/music/photo_new/T002R300x300M000001JwQuS1SZNnu.jpg?max_age=2592000',
    'title': '新的自己',
    'author': '阿里郎'
}];
var secondSlideBarItems = [{
    'src': 'https://p.qpic.cn/music_cover/gibJtEfk4WpVbNibD5QWDsIDzz4r2I3OiaQuUA97p4bvQZdGDvde153Hw/300?n=1',
    'title': 'YG艺人大集结 | 玩转韩国最潮的Hip-Hop',
    'author': '播放量：82.5万'
}, {
    'src': 'https://p.qpic.cn/music_cover/hVUsfUFG2DV466URqw7PT7Sz1An3k52Z7GP8zaFNE5VIaGjgctpKsA/300?n=1',
    'title': '说90后唱歌像乡下？你该听听他们唱的',
    'author': '播放量：144.0万'
}, {
    'src': 'https://p.qpic.cn/music_cover/8HhavvWNIicpyjlv0UnT5TasmRs8z6VIiceKrpQcA2icaIx7wTgp80Mpg/300?n=1',
    'title': '摇摆Jazz | 一点都不浪漫的爵士乐',
    'author': '播放量：19.1万'
}, {
    'src': 'https://p.qpic.cn/music_cover/XSJNl1uJwiah99F7hsYPaUhSpLZNWQru4GxGvMRGf0motMZq0OH7rmg/300?n=1',
    'title': '拒绝孤独：50首治愈系日语女声',
    'author': '播放量：81.8万'
}, {
    'src': "https://p.qpic.cn/music_cover/7bIkpcpiavM08csogLbcpA8hJ1osD6OZGvDKZZjh0XCTIWaLicVRF9gg/300?n=1",
    'title': '「摇滚名人堂」书写流行音乐史的伟大歌手',
    'author': '播放量：3.1万'
}, {
    'src': 'https://p.qpic.cn/music_cover/WdVuYQ5It7elUJrMJfic4qiaOKYhajXzs69FbNNfKKOqIgAFWz1tqFDQ/300?n=1',
    'title': '「原创古风系列」别离似梦，一梦是一生',
    'author': '播放量：18.9万'
}, {
    'src': 'https://p.qpic.cn/music_cover/gSWEnBJhkxO1raoO4qZgwf3BibQiasojvia2ZDAYhl6YUnJADHtpSOibOQ/300?n=1',
    'title': '掰wan直男？只要50首帅气摇滚女声',
    'author': '播放量：45.3万'
}, {
    'src': 'https://p.qpic.cn/music_cover/oQ7QIr12iawo8AdKZPxIeuSxJqKl39EodRya22GVHtBF8cUgDMXYQ1Q/300?n=1',
    'title': '猫厂修仙电音：道友还不快点和我飞升？！',
    'author': '播放量：10.8万'
}, {
    'src': 'https://p.qpic.cn/music_cover/zvTEv4nf24OhibNkHicltqWN7clnR2xpG9Zzpp6HAd4VvOcHj8IG2h6w/300?n=1',
    'title': '神改编｜当课本撞上神曲',
    'author': '播放量：17.0万'
}, {
    'src': 'https://p.qpic.cn/music_cover/hVUsfUFG2DV466URqw7PT7Sz1An3k52ZoJpZiccVG8O9ZM350vTu3TQ/300?n=1',
    'title': '星座物语：哪一首是属于你的星座歌曲',
    'author': '播放量：10.6万'
}, {
    'src': 'https://p.qpic.cn/music_cover/ad4Nt3U7HHew8sdPicj8agiaEKlHLj3Jx2Mft4u8VrSNibfQj0lxOCwew/300?n=1',
    'title': '【零点乐话】二十首情歌和一首绝望的诗',
    'author': '播放量：7.9万'
}, {
    'src': 'https://p.qpic.cn/music_cover/qTKgAXria5IC0DIibN2H9EiakLfo3QrxUdc3U7z8oooibkITUbr7OId4xw/300?n=1',
    'title': '独立民谣 | 一首歌一个故事',
    'author': '播放量：19.4万'
}];
var newMVItems = [{
    'src': "https://shp.qpic.cn/qqvideo_ori/0/z0024sqf7ie_360_204/0",
    'title': '昨夜以前的星光 (《夏至未至》电视剧推广曲)',
    'author': '张阳阳',
    'playsum': '2.1万'
}, {
    'src': 'https://shp.qpic.cn/qqvideo_ori/0/m00248wfmci_360_204/0',
    'title': 'Feels',
    'author': 'Calvin Harris',
    'playsum': '5931'
}, {
    'src': 'https://shp.qpic.cn/qqvideo_ori/0/k0024q2tk2z_360_204/0',
    'title': '昨天涯——献给布宜诺斯艾利斯',
    'author': '谭维维',
    'playsum': '3875'
}, {
    'src': 'https://shp.qpic.cn/qqvideo_ori/0/u0024wqfpsh_360_204/0',
    'title': 'FIVE',
    'author': '에이핑크',
    'playsum': '11.5万'
}, {
    'src': 'https://shp.qpic.cn/qqvideo_ori/0/n0024zxvl08_360_204/0',
    'title': 'Come With Me',
    'author': '吴雨霏',
    'playsum': '4469'
}, {
    'src': 'https://shp.qpic.cn/qqvideo_ori/0/v0024t2zr7y_360_204/0',
    'title': '《与音乐》第12集：万晓利他是世界上唯一懂鸟语的人，你是唯一可以替他做梦的人',
    'author': '万晓利',
    'playsum': '3.1万'
}, {
    'src': 'https://shp.qpic.cn/qqvideo_ori/0/q0024vwcki2_360_204/0',
    'title': 'As If It’s Your Last (中字版)',
    'author': 'BLACKPINK',
    'playsum': '2.3万'
}, {
    'src': 'https://shp.qpic.cn/qqvideo_ori/0/f0024ea5uku_360_204/0',
    'title': '降临',
    'author': '张玮',
    'playsum': '2.6万'
}]
var firstSlideBar = new SlideBar(4, '.newsong');
var secondSlideBar = new SlideBar(3, '.hotlist');
var slideBar3D = new SlideBar3D(3, '.jingcai');

// 创建单个图片项目的方法
function createItem(obj, str) {
    if (obj.playsum != '' && obj.playsum != null) {
        $(str + ' .slidebar ul').append(`<li>
                    <div class="item">
                        <a href=><img
                                src= ${obj.src}
                                alt="">
                            <div class="img_mask"></div>
                            <div class="play animated"></div>
                        </a>
                        <div class="title">
                            <h4>
                            <a href="">${obj.title}</a>
                            </h4>
                        </div>
                        
                        <div class="author">
                            <a href="">${obj.author}</a>
                        </div>
                        <div class="playsum">
                            <div class="playsum_img"></div>
                            <a href="">${obj.playsum}</a>
                        </div>
                    </div>
                </li>`);
        return;
    }
    $(str + ' .slidebar ul').append(`<li>
                    <div class="item">
                        <a href=""><img
                                src= ${obj.src}
                                alt="">
                            <div class="img_mask"></div>
                            <div class="play animated"></div>

                        </a>
                        <div class="title">
                            <h4>
                            <a href="">${obj.title}</a>
                            </h4>
                        </div>
                        <div class="author">
                            <a href="">${obj.author}</a>
                        </div>
                    </div>
                </li>`);
}

// 初始化创建 图片资料
function initSrc() {
    for (let i = 0; i < 16; i++) {
        createItem(firstSlideBarItems[i], '.newsong ');
    }
    for (let i = 0; i < 12; i++) {
        createItem(secondSlideBarItems[i], '.hotlist ');

    }
    for (let i = 0; i < 8; i++) {
        createItem(newMVItems[i], '.newmv ');
    }
}
initSrc();
//第一个轮播图的左右切换时间

$('.newsong .slideaction_left a').on('click', function(e) {
    firstSlideBar.clickLeft(firstSlideBar);

});
$('.newsong .slideaction_right a').on('click', function(e) {
    firstSlideBar.clickRight(firstSlideBar);

});
//第二个
$('.hotlist .slideaction_left a').on('click', function(e) {
    secondSlideBar.clickLeft(secondSlideBar);
});
$('.hotlist .slideaction_right a').on('click', function(e) {
    secondSlideBar.clickRight(secondSlideBar);
});


//3D轮播图
$('.jingcai .slideaction_right a').on('click', function(e) {
    slideBar3D.clickRight();
    swichBarChange(slideBar3D, slideBar3D.sum);

});
$('.jingcai .slideaction_left a').on('click', function(e) {
    slideBar3D.clickLeft();
    swichBarChange(slideBar3D, slideBar3D.sum);

});


// 显示跑马灯的左右两个按钮
$(document).on("mouseover mouseout", '.newsong,.jingcai,.hotlist', function(event) {
    if (event.type == "mouseover") {
        //鼠标悬浮
        $(this).find('.slideaction_right a').css('width', '72px');
        $(this).find('.slideaction_left a').css('width', '72px');
    } else if (event.type == "mouseout") {
        //鼠标离开
        $(this).find('.slideaction_right a').css('width', '0');
        $(this).find('.slideaction_left a').css('width', '0');
    }
});

//播放键
$('.slidebar').on("mouseover mouseout", '.item a', function(event) {

    if (event.type == "mouseover") {
        //鼠标悬浮
        $(this).children('img').css('transform', ' scale(1.1)');
        $(this).children('.img_mask').css({ 'display': 'block' });
        $(this).children('.play').css('transform', ' scale(1)');
    } else if (event.type == "mouseout") {
        //鼠标离开
        $(this).children('img').css('transform', ' scale(1)');
        $(this).children('.img_mask').css({ 'display': 'none' });
        $(this).children('.play').css('transform', ' scale(0)');
    }
});

// 监听图片悬浮动效
$('.slidebar').on("mouseover mouseout", '.play', function() {

    if (event.type == "mouseover") {
        //鼠标悬浮
        $(this).siblings('.item img').css('transform', ' scale(1.1)');
        $(this).css('opacity', '1');
    } else if (event.type == "mouseout") {
        //鼠标离开
        $(this).css('opacity', '0.8');

    }
});
$('.newsong .switchbar').on('click', 'a', function(e) {
    e.preventDefault();
    $('.newsong .slidebar ul').css('margin-left', $(this).attr('id') * -1200 + 'px');
    firstSlideBar.swichBarIndex = $(this).attr('id');
    swichBarChange(firstSlideBar, firstSlideBar.num);
});
$('.hotlist .switchbar').on('click', 'a', function(e) {
    e.preventDefault();
    $('.hotlist .slidebar ul').css('margin-left', $(this).attr('id') * -1200 + 'px');
    secondSlideBar.swichBarIndex = $(this).attr('id');
    swichBarChange(secondSlideBar, secondSlideBar.num);
});

// 监听排行榜的图片悬浮
$('.ranklist_list').on('mouseover mouseout', 'li', function(event) {
    if (event.type == 'mouseover') {
        $(this).children('.line').css('visibility', 'hidden');
        $(this).children('.mask').children('.play').css('transform', 'scale(1)');
        $(this).children('.mask').children('.list_bg').css('transform', 'scale(1.1)')
    } else if (event.type == 'mouseout') {
        $(this).children('.line').css('visibility', 'visible');
        $(this).children('.mask').children('.play').css('transform', 'scale(0)');
        $(this).children('.mask').children('.list_bg').css('transform', 'scale(1)')

    }
});